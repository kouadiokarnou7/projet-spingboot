<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Connexion | Gestion d'employÃ©s</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen flex items-center justify-center bg-slate-50">

<div class="w-full max-w-md bg-white rounded-xl shadow-lg p-8">
    <h2 class="text-2xl font-bold text-center text-slate-900 mb-8">
        Connexion
    </h2>

    <form th:action="@{/login}" method="post" class="space-y-6">

        <!-- Username -->
        <div>
            <label for="username" class="block text-sm font-semibold text-slate-700 mb-2">
                Nom d'utilisateur
            </label>
            <input
                id="username"
                name="username"
                type="text"
                placeholder="marie"
                required
                autofocus
                class="w-full px-4 py-2 border border-slate-300 rounded-lg
                       focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
            />
        </div>

        <!-- Password -->
        <div>
            <label for="password" class="block text-sm font-semibold text-slate-700 mb-2">
                Mot de passe
            </label>
            <div class="relative">
                <input
                    id="password"
                    name="password"
                    type="password"
                    placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                    required
                    class="w-full px-4 py-2 pr-12 border border-slate-300 rounded-lg
                           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                />
                <button
                    type="button"
                    id="toggleBtn"
                    onclick="togglePassword()"
                    class="absolute inset-y-0 right-3 flex items-center text-slate-500 hover:text-blue-600"
                    aria-label="Afficher ou masquer le mot de passe">
                    ğŸ‘ï¸
                </button>
            </div>
        </div>

        <!-- Bouton -->
        <button
            type="submit"
            class="w-full bg-blue-600 text-white py-2 rounded-lg font-semibold
                   hover:bg-blue-700 transition">
            Se connecter
        </button>
    </form>

    <!-- Message erreur -->
    <div th:if="${param.error}"
         class="mt-6 text-sm text-red-700 bg-red-50 border border-red-200 rounded-lg p-3 text-center">
        Utilisateur ou mot de passe incorrect.
    </div>

    <!-- Message logout -->
    <div th:if="${param.logout}"
         class="mt-6 text-sm text-green-700 bg-green-50 border border-green-200 rounded-lg p-3 text-center">
        Session terminÃ©e avec succÃ¨s.
    </div>
</div>

<script>
    function togglePassword() {
        const input = document.getElementById("password");
        const btn = document.getElementById("toggleBtn");

        if (input.type === "password") {
            input.type = "text";
            btn.textContent = "ğŸ™ˆ";
        } else {
            input.type = "password";
            btn.textContent = "ğŸ‘ï¸";
        }
    }
</script>

</body>
</html>
